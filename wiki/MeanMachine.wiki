#summary Mean-Machine is a graphical tool for bayes-swarm data visualization

= Introduction =

Mean Machine is an experimental sub-project, named as the famous Sugar Ray's song, that allows to perform queries on the database and plot data accordingly. 

= Details =

Before using the graphical frontend, data has to be indexed with the [http://www.xapian.org Xapian] library, this can be performed with xapian_index.rb script, found in our spidering library name *Pulsar*.
*Xapian* not only saves which words belong to which text, but also their position in the text, this allows to patterns like "clinton NEAR health" or even more complex ones.

= Visualization =

We have currently two different components, which perform different plots.

== search ==
[http://bayes-swarm.googlecode.com/svn/images/mm_svn437_search_obama20080828.png http://bayes-swarm.googlecode.com/svn/images/mm_svn437_search_obama20080828_small.png]

The user can insert terms to be searched, as a result the most relevant documents are presented together with a cloud of the most relevant words. Clicking on the words allows to deepen the search and find the documents which match both words (to be precise the two terms are ORed, so documents which match both are given a higher score).

== graph ==
[http://bayes-swarm.googlecode.com/svn/images/mm_svn437_graph_obama.png http://bayes-swarm.googlecode.com/svn/images/mm_svn437_graph_obama_small.png]

The user can insert terms to be searched, the program paints a graph of the 10 most connected words, ie the words which are more likely found with what the user entered. By typing more words (or by clicking on one of the nodes), the program searchs for matching words for each of the terms which are entered.

Based on [http://code.google.com/p/jrfonseca/wiki/XDot XDot].

= What do I need to try it? =
  * Mean-Machine source from svn
  * xapian indexed db (can be found at [http://www.battlehorse.net/swarm_sample/ this url])
  * xapian library with python bindings
  * pygtk

== Ubuntu ==
Install xapian, its python bindings, pydot and graphviz
{{{
sudo apt-get install python-xapian python-gtk2 python-pyparsing python-pydot graphviz
}}}

Get the source code
{{{
cd ~
svn checkout http://bayes-swarm.googlecode.com/svn/trunk/mean-machine mean-machine
}}}

Download and uncompress the sample db
{{{
cd ~
mkdir xapian-pagestore
cd xapian-pagestore
wget http://www.battlehorse.net/swarm_sample/2008_01xap.tar.bz2
tar xvf 2008_01xap.tar.bz2
}}}

Finally run it!
{{{
cd ~/mean-machine
python ./bs-xapian-search-gtk.py ../xapian-pagestore
}}}

or if you want to try bs-xapian-graph.py
{{{
cd ~/mean-machine
python ./bs-xapian-graph.py ../xapian-pagestore
}}}